<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intraverse</title>
    <link rel="icon" href="logos/INTRAVERSE_FAVICON-01.png" />
    <link rel="apple-touch-icon" href="logos/INTRAVERSE_FAVICON-01.png" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />
    <link rel="stylesheet" href="style.min.css" />
    <link rel="stylesheet" href="style.css" />

  </head>
  <body id="main2">
    <div id="preloader"></div>
    <!-- Nav bar -->
    <nav id="navbar2" class="navbar navbar-expand-lg">
      <a class="navbar-brand2" href="https://intraverse.io/">
        <img src="logos/INTRAVERSE_logo_cutout.png" class="ml-2 img-fluid" />
      </a>
      <button
        class="navbar-toggler"
        type="button"
        
        data-toggle="collapse"
        data-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
     <!-- <ul class="navbar-nav ml-md-auto">
        <li class="nav-item">
          <a class="nav-link" href="#">Region</a>
        </li>
        <select name="languages" id="lang">
          <option value="America">America(English)</option>

          <option value="Italy">Italy(Italian)</option>
          <option value="Iran">Iran(Persian)</option>
        </select>
      </ul> -->
    </nav>
    <!-- End nav bar -->
    <div class="container">
      <div class="row">
        <!-- text  -->
        <div
          class="
            col-12
            d-flex
            flex-column
            align-items-center
            justify-content-center
            mt-5
            welcome-text
          "
        >
          <h1>Your intraverse</h1>
          <h1>starts here</h1>
        </div>
        <!-- end text -->
        <!--start cadentials -->
        <div
          class="
            col-12
            d-flex
            flex-column
            align-items-center
            justify-content-center
            mt-5
          "
        >
          <input
            type="email"
            class="login-input email"
            placeholder="Enter email here"
            name="email"
            id = "email"
          />
          <br />
          <button
            class="btn login-btn"
            id="start"
          >
            Start
          </button>
          <a href="/login.html" class="already-registered"
            ><p class="p5 mt-3">Already registered? login</p></a
          >
          <div style="width: 100%;" class = "customDiv">

          
          
            <ul class="progressbar">
            <li class="active ">Step 1</li>
            <li >Step 2</li>
            <li>Step 3</li>
            
          </ul>
        </div>
        </div>
        
       
        <!-- end cadentials -->
      </div>
    </div>
  </body>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="js/preloader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
  <script>
    
    $('#start').click(function(){
      var execute = false;
  var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function () {
    if (this.readyState == 4 && this.status == 200) {
        let allText = this.responseText;
      
      let email=$('input[name=email]').val();
      const after_ = email.substring(email.indexOf('@') + 1);
      console.log(after_);
      
      var output = allText.split(new RegExp(",|\n"))
                            .map(function (element) {
           //Do what ever tidy up here
           return $.trim(element).toLowerCase();
        });
       
        
      
       
      
      
      console.log(email)
     // checkFakeEmail(email);
      if (email == "") {
        toastr.error('Please enter Email', 'Error!',{ timeOut: 9500 })
      }
      else if (output.includes(after_))
      {
       toastr.error('Temporary mails are not allowed!', 'Error!',{ timeOut: 9500 })
        
      }
      
      else {
          window.location.href = 'confirmpassword.html';
          localStorage.setItem('email',email);}
         
  };
    }

xhttp.open("GET", "./js/tempemaillist.txt", true);
xhttp.send();
});


    $(".email").focusout(function () {
      $(this).css("color", "#00ffff");
      $(this).css("border-bottom", "1px solid #00ffff");
    });
    $(".email").on("keyup", function () {
      var userinput = $(this).val();
      var pattern = /^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i;
      if (!pattern.test(userinput)) {
        $(this).css("color", "red");
        $(this).css("border-bottom", "1px solid red");
      } else {
        $(this).css("color", "#00ffff");
        $(this).css("border-bottom", "1px solid #00ffff");

      }
    });
    
       
        
      

    



  </script>
 
   <script>
   
    
    $('#lang').on('change', function() {
  var value = $(this).val();
  if(value == "America")
      {
        window.location = "registerpage.html";
      }
      else if(value == "Italy")
      {
        window.location = "registerpage_ita.html";
      }
      else 
      {
        window.location = "registerpage_per.html";
      }
});

  </script>
 
</html>

